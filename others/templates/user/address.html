<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>个人中心</title>
  <link rel="icon" href="../img/icon.png" type="image/png">
  <!-- 引入样式 -->
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
  <link rel="stylesheet" href="../css/user/address.css">

  <!-- 引入组件库 -->
  <!-- <script src="https://unpkg.com/element-ui/lib/index.js"></script> -->
  <script src="../js/lib/vue.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/axios/0.21.0/axios.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/element-ui/2.14.1/index.js"></script>
  <script type="text/javascript" src="../lib/layui/layui.js"></script>
  <script type="text/javascript" src="../js/lib/jquery-3.4.1.min.js"></script>
</head>
<body>
<div id="app">

  <div class="header">
    <div class="container">
      <div class="header-nav-left">
        <ul>
          <li class="header-nav-left-area">中国大陆</li>
          <li class="header-nav-left-login"><a href="/user/login">您好,{{nickName}}</a></li>
          <li class="header-nav-left-register"><a href="#">免费注册</a></li>
        </ul>
      </div>
      <div class="header-nav-right">
        <ul>
          <li><a href="#">关于我们</a></li>
          <li><a href="#">购物指南</a></li>
          <li><a href="#">会员中心</a></li>
          <li><a href="/shoppingCart">购物车</a></li>
          <li><a href="/user/toPersonalOrder">我的订单</a></li>
        </ul>
      </div>
    </div>
    <div class="header-main">
      <div class="container">
        <div class="header-main-left">
          个人中心
        </div>
        <div class="header-main-center">
          <div class="header-main-center-height">
            <div class="header-main-center-height-search">
              <input type="text">
              <span><img src="../img/iconImg/01.png" width="100%" height="100%"></span>
              <button><img src="../img/iconImg/search.png" width="100%" height="100%"></button>
            </div>
            <div class="header-main-center-height-cart">
              <!--              <button><img src="../img/iconImg/购物车.png"><span>我的购物车</span></button>-->
              <el-badge :value=shoppingCartCount class="item">
                <el-button size="small" icon="el-icon-shopping-cart-2">我的购物车</el-button>
              </el-badge>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="header-footer">
      <div class="header-footer-top"></div>
      <div class="header-footer-bottom"></div>
    </div>
  </div>
  <div class="container">
    <div class="content">
      <div class="content-left">
        <div class="content-left-img">
          <img src="../img/IconImg/logo.png" width="100%" height="100%">
        </div>
        <div class="content-left-order">我的订单</div>
        <div class="content-left-address">收货地址</div>
        <div class="content-left-message">个人信息</div>
        <!--        <div class="content-left-idea">意见建议</div>-->
      </div>
      <div class="content-right">
        <div class="content-right-title">
          我的收货地址
        </div>
        <div class="content-right-data">
          <div class="content-right-data-title">
            <el-button  @click="insertEditDialog" size="mini">新增收货地址</el-button>
          </div>
          <div class="all-address">
            <div class="delivery-address" v-for="(address,index) in addressList">
              <div class="sm easebuy-m ">
                <div class="smc">
                  <div class="smt">
                    <span class="default-address" v-if="address.type==1">默认地址</span>
                    <!-- 占位 -->
                    <span class="default-address" style="background-color: white" v-else>&nbsp;</span>
                    <span @click="deleteAddress(index)" class="del-btn">删除</span>
                  </div>
                  <div class="items new-items">
                    <div class="item-lcol">
                      <div class="item">
                        <span class="label">收货人：</span>
                        <div class="fl">{{address.addrName}}</div>
                        <div class="clr"></div>
                      </div>
                      <div class="item">
                        <span class="label">所在地区：</span>
                        <div class="fl">{{address.addrProvince+ address.addrCity + address.addrDistrict}}</div>
                        <div class="clr"></div>
                      </div>
                      <div class="item">
                        <span class="label">地址：</span>
                        <div class="fl">{{address.addrArea}}</div>
                        <div class="clr"></div>
                      </div>
                      <div class="item">
                        <span class="label">手机：</span>
                        <div class="fl">{{address.addrNumber}}</div>
                        <div class="clr"></div>
                      </div>
                    </div>
                    <div class="item-rcol">
                      <div class="extra">
                        <a class="ml10 ftx-05" v-if="address.type==0" style="cursor: pointer"
                           @click="setDefaultAddress(index)">设为默认</a>
                        <a class="ml10 ftx-05" href="javascript:;"
                           @click="openEditDialog(index)">编辑</a>
                      </div>
                    </div>
                    <div class="clr"></div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>

      </div>
    </div>
  </div>


  <!-- 收货地址弹窗 -->
  <el-dialog :title="dialogType==1?'添加收货地址':'收货地址编辑'" :visible.sync="dialogFormVisible" top='5vh' width='47%'>
    <el-form :model="form" :label-position="labelPosition">

      <el-form-item label="收货人" :label-width="formLabelWidth">
        <el-input placeholder="收货人" v-model=form.addrName autocomplete="off"></el-input>
      </el-form-item>
      <el-form-item label="地区" :label-width="formLabelWidth">
        <el-select v-model="province" filterable placeholder="请选择" @change="getCityList">
          <el-option v-for="item in provinceList" :key="item.id" :label="item.regionName" :value="item.id">
          </el-option>
        </el-select>
        <el-select v-model="city" filterable placeholder="请选择" @change="getDistrictList">
          <el-option v-for="item in cityList" :key="item.id" :label="item.regionName" :value="item.id">
          </el-option>
        </el-select>
        <el-select v-model="district" filterable placeholder="请选择" @change="districtChange">
          <el-option v-for="item in districtList" :key="item.id" :label="item.regionName" :value="item.id">
          </el-option>
        </el-select>
      </el-form-item>
      <el-form-item label="详细地址" :label-width="formLabelWidth">
        <el-input placeholder="详细地址" v-model=form.addrArea autocomplete="off"></el-input>
      </el-form-item>
      <el-form-item label="手机号码" :label-width="formLabelWidth">
        <el-input placeholder="手机号码" maxlength="11" v-model.number=form.addrNumber>
        </el-input>
      </el-form-item>
    </el-form>
    <div slot="footer" class="dialog-footer">
      <el-button @click="dialogFormVisible = false">取 消</el-button>
      <el-button type="primary" @click="insertAddress" v-if="dialogType==1" :loading=dialogBtnLoading>添 加</el-button>
      <el-button type="primary" @click="editAddress" v-else :loading=dialogBtnLoading>更 改</el-button>
    </div>
  </el-dialog>
</div>

<script src="../js/user/address.js"></script>

</body>
</html>
